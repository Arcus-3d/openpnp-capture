os: Visual Studio 2015

before_build:
  - mkdir build
  - cd build
  - cmake -G "Visual Studio 14 2015 Win64" ..

build:
  project: build\ALL_BUILD.vcxproj

configuration:
  - Debug
  - Release

artifacts:
- path: build\win\tests\$(CONFIGURATION)\openpnp-capture-test.exe
  name: openpnp-capture-test.exe
- path: build\$(CONFIGURATION)\openpnp-capture.dll
  name: openpnp-capture.dll
  
deploy:
  description: 'Auto generated release.'
  provider: GitHub
  auth_token:
    secure: Lw1sX9C9TI7Xb9xXIHPn1hnp6CPHQAwr2ZOIF4QHDUWV8VOsZz+LkjAHlz2lMaSa
  artifact: openpnp-capture.dll,openpnp-capture-test.exe
  on:
    appveyor_repo_tag: true
    configuration: Release